<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${curso.nome}">Detalhes do Curso</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link rel="stylesheet" th:href="@{/css/dark-theme.css}">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark sticky-top">
        <div class="container">
            <a class="navbar-brand fw-bold" href="/">Cursos Online</a>
            <div class="d-flex">
                <a class="btn btn-outline-success mx-2" th:href="@{/cursos/listar}">Cursos</a>
                <a class="btn btn-outline-success mx-2" th:href="@{/professores/listar}">Professores</a>
                <a class="btn btn-outline-success mx-2" th:href="@{/categoria/listar}">Categorias</a>
            </div>
        </div>
    </nav>

    <main class="container my-5">
        <div class="list-container" th:if="${curso}">
            <div class="listing-header text-center">
                <h1 class="listing-title" th:text="${curso.nome}"></h1>
            </div>

            <div class="text-center my-4" th:if="${curso.imagem}">
                <img th:src="${curso.imagem}" alt="Imagem do curso" class="img-fluid rounded" style="max-height: 300px;">
            </div>

            <div class="card mb-3">
                <div class="card-body">
                    <h5 class="card-title text-success mb-3">Informações do Curso</h5>
                    
                    <div class="mb-3">
                        <h6 class="text-muted">Descrição</h6>
                        <p class="card-text" th:text="${curso.descricao}"></p>
                    </div>
                    
                    <div class="mb-3">
                        <h6 class="text-muted">Período</h6>
                        <p class="card-text">
                            <span th:if="${curso.dataInicio != null and curso.dataFim != null}">
                                <span th:text="${#dates.format(curso.dataInicio, 'dd/MM/yyyy')}"></span> a 
                                <span th:text="${#dates.format(curso.dataFim, 'dd/MM/yyyy')}"></span>
                            </span>
                            <span th:unless="${curso.dataInicio != null and curso.dataFim != null}" class="text-muted">
                                Período não definido
                            </span>
                        </p>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6 mb-3" th:if="${categoria}">
                    <div class="card h-100">
                        <div class="card-body">
                            <h6 class="text-muted">Categoria</h6>
                            <p class="card-text fs-5" th:text="${categoria.nome}"></p>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-6 mb-3" th:if="${professor}">
                    <div class="card h-100">
                        <div class="card-body">
                            <h6 class="text-muted">Professor</h6>
                            <p class="card-text fs-5">
                                <span th:text="${professor.nome}"></span>
                                <span th:if="${professor.email}" th:text="'(' + ${professor.email} + ')'" class="text-muted d-block small"></span>
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="d-flex justify-content-between align-items-center mt-4 border-top pt-4" style="border-color: var(--border-color) !important;">
                <a th:href="@{/}" class="btn btn-outline-secondary">
                    <i class="bi bi-house"></i> Página Inicial
                </a>
                <div class="d-flex gap-2">
                     <a th:href="@{/cursos/editar/{id}(id=${curso.ID})}" class="btn btn-warning">
                        <i class="bi bi-pencil"></i> Editar
                    </a>
                    <a th:href="@{/cursos/listar}" class="btn btn-outline-success">
                        <i class="bi bi-arrow-left"></i> Voltar para a lista
                    </a>
                </div>
            </div>
        </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>